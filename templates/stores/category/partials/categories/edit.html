<!-- Button trigger modal -->

<button id="editCategory" type="button" style="float: right;" class=" btn btn-primary btn-sm" data-toggle="modal"
  data-target="#modelCategoryEdit">
  <i class="fa fa-plus" aria-hidden="true"></i> Add New
</button>
<!-- Modal -->
<div class="modal fade" id="modelCategoryEdit" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">

    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit Category</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="edit_category" action="POST">
          {% csrf_token %}
          <div class="form-group">
            <label for="category_name_edit" class="col-form-label">Edit Category:</label>
            <input type="text" class="form-control" id="category_name_edit" required>
          </div>
          <div class="form-group">
            <label for="category_description_edit" class="col-form-label">Description:</label>
            <textarea class="form-control" id="category_description_edit"></textarea>
          </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
      </form>
    </div>
  </div>
</div>



<script>



  $('#edit_category').on('submit', function (event) {
    event.preventDefault();
    var category_url = localStorage.getItem("category_url")
    category_id = localStorage.getItem("category_id")
    //   console.log("generic_id",generic)

    // console.log('category_slice',category_url)

    $.ajax({
      url: `/store/category-home/category-list/${category_url}/`,

      type: 'POST',
      data: {
        name: $('#category_name_edit').val(),//.addClass('text-uppercase'),
        description: $('#category_description_edit').val(),
        generic: category_id,
        csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),

      },

      success: function (data) {
        console.log('generic', data.generic);
        // console.log(data.generic)
        displayCategoryTable(data.generic)

        // $("#categories_div").fadeIn()

        if (data) {
          swallAlerts('updated successfully', 'success', "bottom-end", 3000, false);
        }

      },

      error: function (data) {
        console.log(data)
        swallAlerts(`${data.responseJSON.name} : ${data.statusText}`, 'success', "bottom-end", 3000, false);

      }
    });
  })






</script>